
title: Screen
author: abma
date: 21-11-2009

{% extends "post.html" %}
{% block body %}

{% load markup %}
{% filter markdown %}

<h2>Tutorial für Screen</h2> <p><br /> In diesem Tutorial möchte ich euch eine Einführung zu dem GNU Tool screen geben.<br />  Doch ihr werdet euch bestimmt fragen: &quot;Was ist denn Screen überhaupt?&quot;.Und um dies zu beantworten:<br /> Screen ist ein sog. &quot;Terminal-multiplexer&quot;. Ich öffne Screen in einem Terminal (XTerm, gnome-terminal, konsole, usw. ABER man braucht X nicht um Screen auszuführen)<br /> und habe nun die Möglichkeit mehrere Programme auszuführen und zwischen diesen wechseln ohne<br /> mehrere Terminals geöffnet zu haben.<br />  Man kann zB in einem Screenfenster ein Programm kompilieren, in einem anderen mit irssi chatten und in einem dritten mit mutt seine EMails kontrollieren. Das gilt für alles was sich konsolenbasierend in einem Terminal ausführen lässt. Screen ist ein mächtiges Programm, und ein richtiges schweizer Taschenmesser in der Linuxwelt wenn man weiß, wie man damit umzugehen hat. Und dabei will ich euch jetzt helfen:<br />  Sobald ihr Screen erfolgreich installiert habt, startet ihr es mit dem Kommando &quot;screen&quot; in einem Terminal eurer Wahl. Wie ihr seht, erwartet euch dort eine ganz normale Shell, es sieht nach nichts besonderen aus. Aber jetzt schreibt doch ein bisschen wirwar in das Fenster um es dann zu identifizieren können.<br /> Anschließend benutzt ihr folgende Tastenkombination:</p><ul class="mediawiki"> <li>C-a c</li> <br /> </ul> <p><br /> Wie C-a? Na ganz einfach: Crtl/Strg + a, nun seid ihr in dem Modus in dem ihr Screen weitere Instruktionen und Kommandos geben könnt. Durch drücken von c geniert ihr ein neues Fenster (create). Dieses ist jetzt wieder leer. Also schreibt wieder etwas hinein. Und dann wollen wir folgendes probieren:</p><ul class="mediawiki"> <li>C-a n</li> </ul><p>Ihr springt zum nächsten (next) Fenster und seid wieder in eurem ersten Fenster.</p><ul class="mediawiki"> <li>C-a p</li> </ul><p>Damit wechselt ihr zum vorherigen Fenster (previous) und seht Fenster 1.</p><ul class="mediawiki"> <li>C-a N</li> </ul><p>Wobei N für eine Nummer steht. Ihr könnt nun durch auswahlen einer Nummer direkt<br />       zu einem Fenster eurer Wahl wechseln. Gezählt wird ab 0. Also ist unser erstes Fenster<br />       mit &quot;C-a 0&quot; zu erreichen.</p><ul class="mediawiki"> <li>C-a A</li> </ul><p>Ihr müsst Shift gedrückt halten bevor ihr das 2te Mal A drückt. Nun könnt ihr eurem<br />       Fenster einen Namen geben. Das wird beim nächsten Schritt hilfreich sein.</p><ul class="mediawiki"> <li>C-a &quot;</li> </ul><p>Nun solltet ihr eine Übersicht über eure von Screen generierten Fenster sehen.<br />       Und wie gesagt, nun könnt ihr sie mit den Namen identifizieren. (Shift nicht vergessen)</p><ul class="mediawiki"> <li>C-a K</li> </ul><p>Mit K für Kill könnt ihr nun Fenster schließen die ihr nicht mehr benötigt.<br />       Screen wird euch (nach der Standarteinstellung) fragen ob ihr das Fenster wirklich<br />       schließen wollt, und mit &quot;y&quot; (yes) bestätigt ihr das.<br />  <br /> Jetzt spielt mal ein bisschen mit Screen rum und öffnet Programme, gebt ihnen Namen und dann kann der Spass beginnen...<br /> Denn jetzt kommt Magie ins Spiel!<br /> Nachdem ihr nun ein paar Prozesse laufen habt, schließt ihr euer Terminal, öffnet ein neues und führt das folgende Kommando aus:</p><ul class="mediawiki"> <li>screen -r (reattach)</li> <br /> </ul> <p><br /> Ihr werdet sehen: Eure ganzen Programme sind noch da! Olé! Doch wie kann das gehen?<br /> Screen speichert eure ganzen Programme in einer Session und lässt diese im Hintergrund laufen. Und indem ihr das Terminal schließt, &quot;loggt&quot; ihr euch nur von dieser Session aus.<br /> Das könnt ihr auch manuel mit</p><ul class="mediawiki"> <li>C-a d (detach)</li> <br /> </ul> <p><br /> machen. Wie ihr euch bestimmt vorstellen könnt ist diese Funktion sehr praktisch. Man kann zB ein großes Programm kompilieren, das Terminal schließen und X neustarten und nach einem &quot;screen -r&quot; seht ihr, dass das Programm immernoch kompiliert.<br />  Oder eine etwas eigene Art von &quot;Remote-desktoping&quot; ist möglich: Ihr loggt euch per SSH auf einem Server ein, startet irssi, schließt euer Terminal, und nach einem wiedereinloggen und einem reattach seid ihr immernoch online.<br />  Aber vergesst nicht: Die Programme müssen in einer Screen Session laufen!<br />  Falls ihr smarte Terminaluser seid, werdet ihr vielleicht schon gemerkt haben, dass ihr nicht mit eurem Mausrad hochscrollen könnt, um euch den Inhalt oben anzusehen. Um das zu tun benutzt ihr folgendes Kommando um in den &quot;scrollback buffer&quot; per &quot;copy mode&quot; zu kommen:</p><ul class="mediawiki"> <li>C-a [</li> <br /> </ul> <p><br /> Nun könnt ihr ganz simpel mit den Pfeiltasten hoch und runter scrollen und euch<br /> was zu markieren. Dies könnt ihr mit</p><ul class="mediawiki"> <li>C-a ]</li> <br /> </ul> <p><br /> wieder einfügen.<br />  Aber wie beende ich Screen? Eine Session bleibt ja immer bestehen, wie ihr gemerkt habt, und um Screen zu beenden müsst ihr einfach jedes Fenster dass in der Session läuft mit C-a K schließen und nachdem das letzte gelöscht befindet ihr euch wieder in eurer normalen Shell ohne Screen im Vordergrund.<br />  Ich bin ich jetzt nicht auf viele weitere Möglichkeiten von Screen eingegangen und werde das auch nicht tun, da dies ja nur eine Einführung sein soll. Für weitere Informationen würde ich euch vorschlagen die Manpage von Screen aufzurufen (man screen) oder einen der untenstehenden Links zu besuchen:<br />  Die Screen-FAQ<br /> Eine FAQ bezüglich Screen. Leider nicht für Anfänger geeignet.<br />  Screen manpage<br /> Die manpage von Screen online.<br />  Eine umfassende Einführung zu Screen<br /> Diese englische Einführung stand Vorbild zu dem Tutorial das ihr grade lest. Ich hoffe ihr könnt<br /> es verschmerzen dass ich viel übernommen habe.<br />  Und vergesst nicht:<br /> Wer das schweizer Taschenmesser Screen beherrscht, kann der McGyver unter den Linuxusern werden! <br />  Quelle:<br />http://www.tutorials.de/forum/linux-tutorials/151906-einfuehrung-screen.html</p><h2>Tastenkürzel</h2> <ul class="mediawiki"> <li>screen -r (reattach)</li> <li>strg-a d (detach)</li> <li>strg-a k (fenster schliessen)</li> <li>strg-a c (neues fenster)</li> <li>strg-a n (nächstes fenster)</li> <li>strg-a p (vorheriges fenster)</li> <li>strg-a n (springe zu fenster nummer n)</li> </ul>

{% endfilter %}
{% endblock %}
